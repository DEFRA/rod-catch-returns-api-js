services:
  ##############################################################################################################
  # rod_catch_returns rcr_api
  ##############################################################################################################
  rcr_api:
    image: rod_catch_returns/rcr_api:${TAG:-latest}
    volumes:
      - ../:/app
    ports:
      - 5000:5000
    env_file:
      - path: ../.env
        required: false
    deploy:
      mode: replicated
      replicas: 1
      restart_policy:
        condition: on-failure

#######################################################
# Network configuration
#######################################################
networks:
  internal:
    driver: overlay
